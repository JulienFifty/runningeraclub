(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[291],{1774:(e,r,t)=>{Promise.resolve().then(t.bind(t,2296))},2296:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>b});var o=t(5155),a=t(2115),n=t(3321),s=t(8500),i=t.n(s),d=t(2484),l=t(723),c=t(5243),u=t(5803),g=t(4120),m=t(6609),f=t(642),x=t(4817);function b(){let e=(0,n.useRouter)(),r=(0,n.useParams)().id,[t,s]=(0,a.useState)(!0),[b,p]=(0,a.useState)(!1),[h,v]=(0,a.useState)(!1),[y,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)({slug:"",title:"",date:"",location:"",description:"",short_description:"",image:"",button_text:"REG\xcdSTRATE",category:"",duration:"",distance:"",difficulty:[],price:"",max_participants:void 0,requirements:[""],schedule:[{time:"",activity:""}],highlights:[""],contact_info:{email:"",phone:"",whatsapp:""}});(0,a.useEffect)(()=>{"true"!==localStorage.getItem("admin_auth")?e.push("/admin/login"):(v(!0),k())},[r,e]);let k=async()=>{try{let t=await fetch(`/api/events/${r}`);if(t.ok){let e=await t.json();w({slug:e.slug||"",title:e.title||"",date:e.date||"",location:e.location||"",description:e.description||"",short_description:e.short_description||"",image:e.image||"",button_text:e.button_text||"REG\xcdSTRATE",category:e.category||"",duration:e.duration||"",distance:e.distance||"",difficulty:Array.isArray(e.difficulty)?e.difficulty:e.difficulty?[e.difficulty]:[],price:e.price||"",max_participants:e.max_participants||void 0,requirements:e.requirements&&e.requirements.length>0?e.requirements:[""],schedule:e.schedule&&e.schedule.length>0?e.schedule:[{time:"",activity:""}],highlights:e.highlights&&e.highlights.length>0?e.highlights:[""],contact_info:e.contact_info||{email:"",phone:"",whatsapp:""}})}else alert("Error al cargar el evento"),e.push("/admin/eventos")}catch(e){console.error("Error:",e),alert("Error al cargar el evento")}finally{s(!1)}},C=async t=>{t.preventDefault(),p(!0);try{let t={...N,requirements:N.requirements.filter(e=>""!==e.trim()),schedule:N.schedule.filter(e=>e.time&&e.activity),highlights:N.highlights.filter(e=>""!==e.trim()),difficulty:N.difficulty&&N.difficulty.length>0?N.difficulty:null,max_participants:N.max_participants||null,duration:N.duration||null,distance:N.distance||null,price:N.price||null},o=await fetch(`/api/events/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(o.ok)j(!0),m.oR.success("\xa1Evento actualizado exitosamente!",{description:"Los cambios han sido guardados correctamente",icon:"âœ…",duration:2e3}),setTimeout(()=>{e.push("/admin/eventos")},1500);else{let e=await o.json();m.oR.error("Error al actualizar evento",{description:e.error||"Hubo un problema al guardar los cambios"})}}catch(e){console.error("Error:",e),m.oR.error("Error al actualizar evento",{description:"Hubo un problema al guardar los cambios. Por favor intenta de nuevo."})}finally{p(!1)}};return!h||t?(0,o.jsx)("main",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,o.jsx)("div",{className:"text-muted-foreground",children:"Cargando..."})}):(0,o.jsxs)("main",{className:"min-h-screen bg-background p-8 relative",children:[(0,o.jsx)(f.N,{children:y&&(0,o.jsx)(x.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:(0,o.jsxs)(x.P.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-card border border-border rounded-lg p-8 text-center max-w-md mx-4",children:[(0,o.jsx)(x.P.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"mb-4",children:(0,o.jsx)(d.A,{className:"w-16 h-16 text-green-500 mx-auto"})}),(0,o.jsx)("h3",{className:"font-display text-2xl text-foreground mb-2",children:"\xa1Evento Actualizado!"}),(0,o.jsx)("p",{className:"text-muted-foreground mb-4",children:"Los cambios han sido guardados exitosamente"}),(0,o.jsx)(x.P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200,damping:15},className:"inline-block",children:(0,o.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-foreground mx-auto"})})]})})}),(0,o.jsxs)("div",{className:"container-premium max-w-4xl",children:[(0,o.jsxs)(i(),{href:"/admin/eventos",className:"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground mb-6 transition-colors",children:[(0,o.jsx)(l.A,{className:"w-4 h-4"}),"Volver a eventos"]}),(0,o.jsx)("h1",{className:"font-display text-4xl md:text-5xl text-foreground font-light mb-8",children:"Editar Evento"}),(0,o.jsxs)("form",{onSubmit:C,className:"space-y-8",children:[(0,o.jsxs)("div",{className:"bg-card border border-border p-6 rounded-lg space-y-6",children:[(0,o.jsx)("h2",{className:"font-display text-2xl text-foreground mb-4",children:"Informaci\xf3n B\xe1sica"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"T\xedtulo *"}),(0,o.jsx)("input",{type:"text",value:N.title,onChange:e=>{var r;return r=e.target.value,void w({...N,title:r,slug:r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")})},className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-foreground",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Slug *"}),(0,o.jsx)("input",{type:"text",value:N.slug,onChange:e=>w({...N,slug:e.target.value}),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-foreground",required:!0})]}),(0,o.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Fecha *"}),(0,o.jsx)(u.l,{value:N.date,onChange:e=>w({...N,date:e}),placeholder:"Selecciona una fecha",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Ubicaci\xf3n *"}),(0,o.jsx)("input",{type:"text",value:N.location,onChange:e=>w({...N,location:e.target.value}),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-foreground",required:!0})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Categor\xeda *"}),(0,o.jsx)("input",{type:"text",value:N.category,onChange:e=>w({...N,category:e.target.value}),placeholder:"Carrera Urbana, Trail Running, etc.",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-foreground",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Descripci\xf3n Corta *"}),(0,o.jsx)("textarea",{value:N.short_description,onChange:e=>w({...N,short_description:e.target.value}),rows:2,className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-foreground",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Descripci\xf3n Completa *"}),(0,o.jsx)("textarea",{value:N.description,onChange:e=>w({...N,description:e.target.value}),rows:4,className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-foreground",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Imagen del Evento *"}),(0,o.jsx)(g.B,{value:N.image,onChange:e=>w({...N,image:e}),required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Texto del Bot\xf3n *"}),(0,o.jsxs)("select",{value:N.button_text,onChange:e=>w({...N,button_text:e.target.value}),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-foreground",children:[(0,o.jsx)("option",{value:"REG\xcdSTRATE",children:"REG\xcdSTRATE"}),(0,o.jsx)("option",{value:"VER EVENTO",children:"VER EVENTO"})]})]})]}),(0,o.jsxs)("div",{className:"bg-card border border-border p-6 rounded-lg space-y-6",children:[(0,o.jsx)("h2",{className:"font-display text-2xl text-foreground mb-4",children:"Detalles Adicionales"}),(0,o.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Duraci\xf3n"}),(0,o.jsx)("input",{type:"text",value:N.duration,onChange:e=>w({...N,duration:e.target.value}),placeholder:"1.5 horas",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-foreground"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Distancia"}),(0,o.jsx)("input",{type:"text",value:N.distance,onChange:e=>w({...N,distance:e.target.value}),placeholder:"5K - 10K",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-foreground"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Niveles"}),(0,o.jsx)("div",{className:"space-y-2",children:["Principiante","Intermedio","Avanzado"].map(e=>(0,o.jsxs)("label",{className:"flex items-center gap-3 px-4 py-3 bg-background border border-border rounded-lg cursor-pointer hover:bg-muted transition-colors",children:[(0,o.jsx)("input",{type:"checkbox",checked:N.difficulty?.includes(e)||!1,onChange:r=>{let t=N.difficulty||[];r.target.checked?w({...N,difficulty:[...t,e]}):w({...N,difficulty:t.filter(r=>r!==e)})},className:"w-4 h-4 rounded border-border text-foreground focus:ring-2 focus:ring-foreground"}),(0,o.jsx)("span",{className:"text-foreground",children:e})]},e))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Precio"}),(0,o.jsx)("input",{type:"text",value:N.price,onChange:e=>w({...N,price:e.target.value}),placeholder:"Gratis para miembros",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-foreground"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Cupo M\xe1ximo"}),(0,o.jsx)("input",{type:"number",value:N.max_participants||"",onChange:e=>w({...N,max_participants:e.target.value?parseInt(e.target.value):void 0}),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-foreground"})]})]})]}),(0,o.jsxs)("div",{className:"bg-card border border-border p-6 rounded-lg space-y-4",children:[(0,o.jsx)("h2",{className:"font-display text-2xl text-foreground mb-4",children:"Requisitos"}),N.requirements.map((e,r)=>(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsx)("input",{type:"text",value:e,onChange:e=>{let t=[...N.requirements];t[r]=e.target.value,w({...N,requirements:t})},placeholder:"Requisito",className:"flex-1 px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-foreground"}),N.requirements.length>1&&(0,o.jsx)("button",{type:"button",onClick:()=>{let e=N.requirements.filter((e,t)=>t!==r);w({...N,requirements:e})},className:"px-4 py-3 bg-destructive/10 text-destructive rounded-lg hover:bg-destructive/20 transition-colors",children:"Eliminar"})]},r)),(0,o.jsx)("button",{type:"button",onClick:()=>w({...N,requirements:[...N.requirements,""]}),className:"text-sm text-foreground hover:text-muted-foreground",children:"+ Agregar requisito"})]}),(0,o.jsxs)("div",{className:"bg-card border border-border p-6 rounded-lg space-y-4",children:[(0,o.jsx)("h2",{className:"font-display text-2xl text-foreground mb-4",children:"Programa"}),N.schedule.map((e,r)=>(0,o.jsxs)("div",{className:"grid md:grid-cols-3 gap-2",children:[(0,o.jsx)("input",{type:"time",value:e.time,onChange:e=>{let t=[...N.schedule];t[r].time=e.target.value,w({...N,schedule:t})},className:"px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-foreground"}),(0,o.jsx)("input",{type:"text",value:e.activity,onChange:e=>{let t=[...N.schedule];t[r].activity=e.target.value,w({...N,schedule:t})},placeholder:"Actividad",className:"md:col-span-1 px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-foreground"}),N.schedule.length>1&&(0,o.jsx)("button",{type:"button",onClick:()=>{let e=N.schedule.filter((e,t)=>t!==r);w({...N,schedule:e})},className:"px-4 py-3 bg-destructive/10 text-destructive rounded-lg hover:bg-destructive/20 transition-colors",children:"Eliminar"})]},r)),(0,o.jsx)("button",{type:"button",onClick:()=>w({...N,schedule:[...N.schedule,{time:"",activity:""}]}),className:"text-sm text-foreground hover:text-muted-foreground",children:"+ Agregar actividad"})]}),(0,o.jsxs)("div",{className:"bg-card border border-border p-6 rounded-lg space-y-4",children:[(0,o.jsx)("h2",{className:"font-display text-2xl text-foreground mb-4",children:"Lo que Incluye"}),N.highlights.map((e,r)=>(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsx)("input",{type:"text",value:e,onChange:e=>{let t=[...N.highlights];t[r]=e.target.value,w({...N,highlights:t})},placeholder:"Highlight",className:"flex-1 px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-foreground"}),N.highlights.length>1&&(0,o.jsx)("button",{type:"button",onClick:()=>{let e=N.highlights.filter((e,t)=>t!==r);w({...N,highlights:e})},className:"px-4 py-3 bg-destructive/10 text-destructive rounded-lg hover:bg-destructive/20 transition-colors",children:"Eliminar"})]},r)),(0,o.jsx)("button",{type:"button",onClick:()=>w({...N,highlights:[...N.highlights,""]}),className:"text-sm text-foreground hover:text-muted-foreground",children:"+ Agregar highlight"})]}),(0,o.jsxs)("div",{className:"bg-card border border-border p-6 rounded-lg space-y-4",children:[(0,o.jsx)("h2",{className:"font-display text-2xl text-foreground mb-4",children:"Informaci\xf3n de Contacto"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Email"}),(0,o.jsx)("input",{type:"email",value:N.contact_info.email||"",onChange:e=>w({...N,contact_info:{...N.contact_info,email:e.target.value}}),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-foreground"})]}),(0,o.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Tel\xe9fono"}),(0,o.jsx)("input",{type:"text",value:N.contact_info.phone||"",onChange:e=>w({...N,contact_info:{...N.contact_info,phone:e.target.value}}),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-foreground"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"WhatsApp"}),(0,o.jsx)("input",{type:"text",value:N.contact_info.whatsapp||"",onChange:e=>w({...N,contact_info:{...N.contact_info,whatsapp:e.target.value}}),className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-foreground"})]})]})]}),(0,o.jsxs)("div",{className:"flex gap-4",children:[(0,o.jsxs)("button",{type:"submit",disabled:b,className:"inline-flex items-center gap-2 bg-foreground text-background px-6 py-3 rounded-lg hover:bg-foreground/90 transition-colors disabled:opacity-50",children:[(0,o.jsx)(c.A,{className:"w-4 h-4"}),b?"Guardando...":"Guardar Cambios"]}),(0,o.jsx)(i(),{href:"/admin/eventos",className:"inline-flex items-center gap-2 border border-border text-foreground px-6 py-3 rounded-lg hover:bg-muted transition-colors",children:"Cancelar"})]})]})]})]})}},4120:(e,r,t)=>{"use strict";t.d(r,{B:()=>l});var o=t(5155),a=t(2115),n=t(3210),s=t(1975),i=t(8713),d=t(8599);function l({value:e,onChange:r,className:t,required:l}){let[c,u]=a.useState(!1),[g,m]=a.useState(e||null),[f,x]=a.useState(null),b=a.useRef(null);a.useEffect(()=>{m(e||null)},[e]);let p=async e=>{let t=e.target.files?.[0];if(t){if(!t.type.startsWith("image/"))return void x("Por favor selecciona un archivo de imagen");if(t.size>5242880)return void x("La imagen debe ser menor a 5MB");x(null),u(!0);try{let e=new FileReader;e.onloadend=()=>{m(e.result)},e.readAsDataURL(t);let o=(0,i.U)(),a=t.name.split(".").pop(),n=`${Math.random()}.${a}`,s=`eventos/${n}`,{error:d,data:l}=await o.storage.from("images").upload(s,t,{cacheControl:"3600",upsert:!1});if(d){console.warn("Error al subir a Supabase, usando URL local:",d);let e=URL.createObjectURL(t);r(e),u(!1);return}let{data:{publicUrl:c}}=o.storage.from("images").getPublicUrl(s);r(c)}catch(e){console.error("Error al procesar imagen:",e),x("Error al procesar la imagen")}finally{u(!1)}}},h=()=>{b.current?.click()};return(0,o.jsxs)("div",{className:(0,d.cn)("space-y-2",t),children:[(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)("input",{ref:b,type:"file",accept:"image/*",onChange:p,className:"hidden",required:l&&!g}),g?(0,o.jsxs)("div",{className:"relative group",children:[(0,o.jsx)("img",{src:g,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-border"}),(0,o.jsx)("button",{type:"button",onClick:()=>{m(null),r(""),b.current&&(b.current.value="")},className:"absolute -top-2 -right-2 bg-destructive text-destructive-foreground rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,o.jsx)(n.A,{className:"w-4 h-4"})})]}):(0,o.jsx)("button",{type:"button",onClick:h,disabled:c,className:(0,d.cn)("flex flex-col items-center justify-center w-32 h-32 border-2 border-dashed border-border rounded-lg","hover:border-foreground/50 transition-colors","disabled:opacity-50 disabled:cursor-not-allowed"),children:c?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-foreground mb-2"}),(0,o.jsx)("span",{className:"text-xs text-muted-foreground",children:"Subiendo..."})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.A,{className:"w-6 h-6 text-muted-foreground mb-2"}),(0,o.jsx)("span",{className:"text-xs text-muted-foreground text-center px-2",children:"Subir imagen"})]})}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("button",{type:"button",onClick:h,disabled:c,className:(0,d.cn)("w-full px-4 py-3 bg-background border border-border rounded-lg","text-foreground focus:outline-none focus:ring-2 focus:ring-foreground","hover:bg-muted transition-colors","disabled:opacity-50 disabled:cursor-not-allowed"),children:g?"Cambiar imagen":"Seleccionar archivo"}),g&&(0,o.jsx)("input",{type:"text",value:g,onChange:e=>{m(e.target.value),r(e.target.value)},placeholder:"/assets/night-run.jpg",className:"w-full mt-2 px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-foreground"})]})]}),f&&(0,o.jsx)("p",{className:"text-sm text-destructive",children:f}),(0,o.jsx)("p",{className:"text-xs text-muted-foreground",children:"Formatos soportados: JPG, PNG, GIF. Tama\xf1o m\xe1ximo: 5MB"})]})}},5803:(e,r,t)=>{"use strict";t.d(r,{l:()=>v});var o=t(5155),a=t(2115),n=t(3739),s=t(248),i=t(7420),d=t(1641),l=t(1362),c=t(3922),u=t(8599),g=t(2442);let m=(0,t(8460).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function f({className:e,classNames:r,showOutsideDays:t=!0,...a}){return(0,o.jsx)(c.hv,{showOutsideDays:t,className:(0,u.cn)("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,u.cn)(m({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,u.cn)(m({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:({...e})=>(0,o.jsx)(d.A,{className:"h-4 w-4"}),IconRight:({...e})=>(0,o.jsx)(l.A,{className:"h-4 w-4"})},...a})}a.forwardRef(({className:e,variant:r,size:t,asChild:a=!1,...n},s)=>{let i=a?g.DX:"button";return(0,o.jsx)(i,{className:(0,u.cn)(m({variant:r,size:t,className:e})),ref:s,...n})}).displayName="Button",f.displayName="Calendar";var x=t(7820);let b=x.bL,p=x.l9,h=a.forwardRef(({className:e,align:r="center",sideOffset:t=4,...a},n)=>(0,o.jsx)(x.ZL,{children:(0,o.jsx)(x.UC,{ref:n,align:r,sideOffset:t,className:(0,u.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));function v({value:e,onChange:r,placeholder:t="Selecciona una fecha",className:d,required:l}){let c=e=>{if(e)try{let r=e.toLowerCase().split(" ");if(3!==r.length)return;let t=parseInt(r[0]),o={ene:0,feb:1,mar:2,abr:3,may:4,jun:5,jul:6,ago:7,sep:8,oct:9,nov:10,dic:11}[r[1].substring(0,3)],a=parseInt(r[2]);if(isNaN(t)||void 0===o||isNaN(a))return;return new Date(a,o,t)}catch{return}},g=e=>(0,n.GP)(e,"d MMM yyyy",{locale:s.es}),[m,x]=a.useState(()=>c(e||""));return a.useEffect(()=>{e&&x(c(e))},[e]),(0,o.jsxs)(b,{children:[(0,o.jsx)(p,{asChild:!0,children:(0,o.jsxs)("button",{type:"button",className:(0,u.cn)("w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-foreground text-left justify-start font-normal",!m&&"text-muted-foreground",d),children:[(0,o.jsx)(i.A,{className:"mr-2 h-4 w-4"}),m?g(m):(0,o.jsx)("span",{children:t})]})}),(0,o.jsx)(h,{className:"w-auto p-0",align:"start",children:(0,o.jsx)(f,{mode:"single",selected:m,onSelect:e=>{e&&(x(e),r(g(e)))},initialFocus:!0,locale:s.es})})]})}h.displayName=x.UC.displayName},8599:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var o=t(9722),a=t(622);function n(...e){return(0,a.QP)((0,o.$)(e))}},8713:(e,r,t)=>{"use strict";t.d(r,{U:()=>a});var o=t(959);function a(){return(0,o.createBrowserClient)("https://dvuacieikqwuffsfxucc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR2dWFjaWVpa3F3dWZmc2Z4dWNjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1ODY0MjUsImV4cCI6MjA4MTE2MjQyNX0.wsbImLg5lPH0gaf4tP2LKZJTSKhj81bAB6-Hc5gfkjU")}}},e=>{e.O(0,[743,115,609,875,99,883,441,794,358],()=>e(e.s=1774)),_N_E=e.O()}]);